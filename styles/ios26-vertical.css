/*
 * iOS 26 Vertical Battery Style
 *
 * Modern iOS 26 upright design:
 *    ╭─╮
 *  ╭─┴─╮
 *  │███│
 *  │███│
 *  │   │
 *  ╰───╯
 *
 * IMPORTANT: Replace [class*="_3XySI"] with actual CEF class
 */

/* Hide original SVG battery */
[class*="_3XySI"] svg,
[class*="_3XySI"] > svg,
[class*="_3XySI"] canvas {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Main battery container - iOS 26 vertical style */
[class*="_3XySI"] {
    position: relative !important;
    width: var(--mbt-v-width) !important;
    height: var(--mbt-v-height) !important;
    background: var(--mbt-bg-color) !important;
    border: var(--mbt-border-width) solid var(--mbt-border-color) !important;
    border-radius: var(--mbt-v-border-radius) !important;
    border-top-left-radius: 2px !important;
    border-top-right-radius: 2px !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-end !important;
    padding: var(--mbt-inner-padding) !important;
    box-sizing: border-box !important;
    margin-top: 5px !important;

    /* iOS 26 subtle outer glow */
    box-shadow: 0 0 1px var(--mbt-ios26-glow) !important;
}

/* Battery tip (positive terminal) - top */
[class*="_3XySI"]::after {
    content: '' !important;
    position: absolute !important;
    top: calc(-1 * var(--mbt-v-tip-height) - 1px) !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    width: var(--mbt-v-tip-width) !important;
    height: var(--mbt-v-tip-height) !important;
    background: var(--mbt-tip-color) !important;
    border-radius: 2px 2px 0 0 !important;
    opacity: 0.9 !important;
}

/* Battery fill level - fills from bottom */
[class*="_3XySI"]::before {
    content: '' !important;
    position: absolute !important;
    left: var(--mbt-inner-padding) !important;
    right: var(--mbt-inner-padding) !important;
    bottom: var(--mbt-inner-padding) !important;

    /* Default 75% fill */
    height: calc(75% - var(--mbt-inner-padding) * 2) !important;

    /* iOS 26 gradient fill */
    background: linear-gradient(
        0deg,
        var(--mbt-ios26-gradient-end) 0%,
        var(--mbt-ios26-gradient-start) 100%
    ) !important;

    border-radius: var(--mbt-v-inner-radius) !important;
    transition: height var(--mbt-transition-speed) var(--mbt-transition-easing),
                background var(--mbt-transition-speed) var(--mbt-transition-easing) !important;
}

/* Low battery state */
[class*="_3XySI"].low::before,
[class*="_3XySI"][class*="low"]::before {
    background: linear-gradient(
        0deg,
        color-mix(in srgb, var(--mbt-low-color) 85%, black) 0%,
        var(--mbt-low-color) 100%
    ) !important;
    height: calc(20% - var(--mbt-inner-padding) * 2) !important;
}

/* Critical battery state */
[class*="_3XySI"].critical::before,
[class*="_3XySI"][class*="critical"]::before {
    background: var(--mbt-critical-color) !important;
    animation: mbt-charging-pulse 1s ease-in-out infinite !important;
}

/* Charging state */
[class*="_3XySI"].charging::before,
[class*="_3XySI"][class*="charging"]::before {
    background: linear-gradient(
        0deg,
        color-mix(in srgb, var(--mbt-charging-color) 85%, black) 0%,
        var(--mbt-charging-color) 100%
    ) !important;
    animation: mbt-charging-pulse var(--mbt-pulse-duration) ease-in-out infinite !important;
}

/* Full battery */
[class*="_3XySI"].full::before,
[class*="_3XySI"][class*="full"]::before {
    height: calc(100% - var(--mbt-inner-padding) * 2) !important;
    background: linear-gradient(
        0deg,
        color-mix(in srgb, var(--mbt-full-color) 85%, black) 0%,
        var(--mbt-full-color) 100%
    ) !important;
}
