/*
 * macOS Horizontal Battery Style
 *
 * Classic macOS menu bar battery:
 * ╭─────────────╮╮
 * │ ████████░░░ ││
 * ╰─────────────╯╯
 *
 * Features:
 * - Rounded rectangle with very rounded ends
 * - Small rounded tip on right
 * - Semi-transparent empty portion
 * - Clean minimal macOS aesthetic
 */

/* Hide original SVG battery */
[class*="_3XySI"] svg,
[class*="_3XySI"] > svg,
[class*="_3XySI"] canvas {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Main battery container - macOS style */
[class*="_3XySI"] {
    position: relative !important;
    width: 20px !important;
    height: 12px !important;
    background: rgba(255, 255, 255, 0.25) !important;
    border: none !important;
    border-radius: 3px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    margin-right: 4px !important;
    box-shadow: none !important;
    overflow: visible !important;
}

/* Battery tip - small rounded nub on right, 0.25px gap */
[class*="_3XySI"]::after {
    content: '' !important;
    position: absolute !important;
    right: -3px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 2px !important;
    height: 4px !important;
    background: rgba(255, 255, 255, 0.4) !important;
    border-radius: 0 1.5px 1.5px 0 !important;
}

/* Battery fill - solid with rounded left side */
[class*="_3XySI"]::before {
    content: '' !important;
    position: absolute !important;
    left: 0.01px !important;
    top: 0.01px !important;
    bottom: 0.01px !important;
    z-index: 1 !important;
    width: 75% !important;
    max-width: calc(100% - 0.02px) !important;
    background: var(--mbt-fill-color, #ffffff) !important;
    border-radius: 2.9px !important;
    transition: width 0.3s ease, background 0.3s ease !important;
}

/* Charging - green */
[class*="_3XySI"][class*="Charging"]::before,
[class*="_3XySI"][class*="charging"]::before {
    background: #30d158 !important;
}
[class*="_3XySI"][class*="Charging"],
[class*="_3XySI"][class*="charging"] {
    background: rgba(48, 209, 88, 0.25) !important;
}
[class*="_3XySI"][class*="Charging"]::after,
[class*="_3XySI"][class*="charging"]::after {
    background: rgba(48, 209, 88, 0.5) !important;
}

/* Low battery - yellow */
[class*="_3XySI"][class*="Low"]::before,
[class*="_3XySI"][class*="low"]::before {
    background: #ffd60a !important;
}
[class*="_3XySI"][class*="Low"],
[class*="_3XySI"][class*="low"] {
    background: rgba(255, 214, 10, 0.25) !important;
}
[class*="_3XySI"][class*="Low"]::after,
[class*="_3XySI"][class*="low"]::after {
    background: rgba(255, 214, 10, 0.5) !important;
}

/* Critical - red with pulse */
[class*="_3XySI"][class*="Critical"]::before,
[class*="_3XySI"][class*="critical"]::before {
    background: #ff453a !important;
    animation: mbt-critical-pulse 1s ease-in-out infinite !important;
}
[class*="_3XySI"][class*="Critical"],
[class*="_3XySI"][class*="critical"] {
    background: rgba(255, 69, 58, 0.25) !important;
}
[class*="_3XySI"][class*="Critical"]::after,
[class*="_3XySI"][class*="critical"]::after {
    background: rgba(255, 69, 58, 0.5) !important;
}

@keyframes mbt-critical-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}
